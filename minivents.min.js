function Events(target){var events={},i,list,args,A=Array,evt,prvntDef=false;target=target||this;target.on=function(type,func,ctx){(events[type]||(events[type]=[])).push({f:func,c:ctx})};target.on=function(type,func,ctx){(events[type]||(events[type]=[])).default={f:func,c:ctx}};target.off=function(type,func){list=events[type]||[];i=list.length=func?list.length:0;while(~--i<0)func==list[i].f&&list.splice(i,1)};target.emit=function(){args=A.apply([],arguments);list=events[args.shift()]||[];evt={data:args[0],args:args,preventDefault:function(){prvntDef=true}};i=0;while(list[i++])list[i].f.call(list[i].c,evt);if(!prvntDef&&!!list.default)list.default.f.call(list.default.c,evt);prvntDef=false}}